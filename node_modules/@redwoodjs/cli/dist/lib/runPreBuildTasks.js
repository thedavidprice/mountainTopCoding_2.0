"use strict";

var _Object$defineProperty = require("@babel/runtime-corejs3/core-js/object/define-property");

var _interopRequireDefault = require("@babel/runtime-corejs3/helpers/interopRequireDefault");

_Object$defineProperty(exports, "__esModule", {
  value: true
});

exports.default = void 0;

var _path = _interopRequireDefault(require("path"));

var _structure = require("@redwoodjs/structure");

const project = (0, _structure.getProject)();

function generateTypeDef(filename, contents) {
  const {
    host
  } = project;
  host.writeFileSync(_path.default.join(host.paths.types, filename), contents);
}

function generateCurrentUserTypes() {
  generateTypeDef('currentUser.d.ts', project.host.readFileSync(_path.default.join(__dirname, './templates/currentUser.d.ts.template')));
}
/**
 * @description This function houses all the tasks that
 * need to run before rw build/rw dev
 */


function runPreBuildTasks() {
  if (project.isTypeScriptProject) {
    generateCurrentUserTypes();
  }
}

var _default = runPreBuildTasks;
exports.default = _default;