import { PrismaClient } from '@prisma/client';
import { BaseLogger, DestinationStream, LevelWithSilent, LoggerOptions, PrettyOptions, redactOptions } from 'pino';
export declare type LogLevel = 'info' | 'query' | 'warn' | 'error';
declare type LogDefinition = {
    level: LogLevel;
    emit: 'stdout' | 'event';
};
/**
 * Determines if log environment is development
 *
 * @type {boolean}
 *
 */
export declare const isDevelopment: boolean;
/**
 * Determines if log environment is test
 *
 * @type {boolean}
 *
 */
export declare const isTest: boolean;
/**
 * Determines if log environment is production by checking if not development
 *
 * @type {boolean}
 *
 */
export declare const isProduction: boolean;
/**
 * Determines if logs should be prettified.
 *
 * Typically if logging to a transport stream or in production
 * logs will not be prettified.
 *
 * In fact, the pino developers note:
 * "We recommend against using pino-pretty in production,
 * and highly recommend installing pino-pretty as a development dependency."
 * See: https://github.com/pinojs/pino-pretty#programmatic-integration
 *
 * One exception to this rule may be Netlify functions logging.
 * Its function logging output readability can benefit from pretty-printing.
 */
export declare const isPretty: boolean;
/**
 * Defines the necessary pretty printing dependency
 */
export declare const prettifier: any;
export declare const redactionsList: string[] | redactOptions;
/**
 * Determines if log level based on environment variables and
 * development or deployment environment defaults
 *
 * Set `LOG_LEVEL` env to the desired logging level. In order of priority, available levels are:
 *
 * - 'fatal'
 * - 'error'
 * - 'warn'
 * - 'info'
 * - 'debug'
 * - 'trace'
 *
 * The logging level is a __minimum__ level. For instance if `logger.level` is `'info'` then all `'fatal'`, `'error'`, `'warn'`,
 * and `'info'` logs will be enabled.
 *
 * You can pass `'silent'` to disable logging.
 *
 */
export declare const logLevel: LevelWithSilent | string;
/**
 * Defines default options when pretty printing.
 * These can be overridden individually without losing other defaults.
 *
 * Defaults are:
 *
 * - Colorize output when pretty printing
 * - Ignore certain event attributes like hostname and pid for cleaner log statements
 * - Prefix the log output with log level
 * - Use a shorted log message that omits server name
 * - Humanize time in GMT
 * */
export declare const defaultPrettyPrintOptions: PrettyOptions;
/**
 * Defines an opinionated base logger configuration that defines
 * how to log and what to ignore.
 *
 * Defaults are:
 *
 * - Colorize output when pretty printing
 * - Ignore certain event attributes like hostname and pid for cleaner log statements
 * - Prefix the log output with log level
 * - Use a shorted log message that omits server name
 * - Humanize time in GMT
 * - Set the default log level in dev or test to trace and warn in prod
 *   (or set via LOG_LEVEL environment variable)
 * - Redact the host and other keys via a set redactionList
 *
 * Pretty Printing Defaults defined in defaultPrettyPrintOptions
 *
 * @see {@link https://github.com/pinojs/pino/blob/master/docs/api.md}
 * @see {@link https://github.com/pinojs/pino-pretty}
 */
export declare const defaultLoggerOptions: LoggerOptions;
/**
 * RedwoodLoggerOptions defines custom logger options that extend those available in LoggerOptions
 * and can define a destination like a file or other supported pin log transport stream
 *
 * @typedef {Object} RedwoodLoggerOptions
 * @extends LoggerOptions
 * @property {options} LoggerOptions - options define how to log
 * @property {string | DestinationStream} destination - destination defines where to log
 * @property {boolean} showConfig - Display logger configuration on initialization
 */
export interface RedwoodLoggerOptions {
    options?: LoggerOptions;
    destination?: string | DestinationStream;
    showConfig?: boolean;
}
/**
 * Creates the logger
 *
 * @param options {RedwoodLoggerOptions} - Override the default logger configuration
 * @param destination {DestinationStream} - An optional destination stream
 * @param showConfig {Boolean} - Show the logger configuration. This is off by default.
 *
 * @example
 * // Create the logger to log just at the error level
 * createLogger({ options: { level: 'error' } })
 *
 * @example
 * // Create the logger to log to a file
 * createLogger({ destination: { 'var/logs/redwood-api.log' } })
 *
 * @return {BaseLogger} - The configured logger
 */
export declare const createLogger: ({ options, destination, showConfig, }: RedwoodLoggerOptions) => BaseLogger;
/**
 * Determines the type and level of logging.
 *
 * @see {@link https://www.prisma.io/docs/reference/api-reference/prisma-client-reference#log}
 */
export declare const defaultLogLevels: LogLevel[];
/**
 * Generates the Prisma Log Definitions for the Prisma Client to emit
 *
 * @return Prisma.LogDefinition[]
 */
export declare const emitLogLevels: (setLogLevels: LogLevel[]) => LogDefinition[];
/**
 * Defines what is needed to setup Prisma Client logging used in handlePrismaLogging
 *
 *
 * @param db {PrismaClient} - The Prisma Client instance
 * @param logger {BaseLogger} - The Redwood logger instance
 * @param logLevels {LogLevel[]} - The log levels . Should match those set with emitLogLevels
 *
 * @see emitLogLevels
 *
 */
interface PrismaLoggingConfig {
    db: PrismaClient;
    logger: BaseLogger;
    logLevels: LogLevel[];
}
/**
 * Sets up event-based logging on the Prisma client
 *
 * Sets emit to event for a specific log level, such as query
 * using the $on() method to subscribe to the event
 *
 * @see {@link https://www.prisma.io/docs/concepts/components/prisma-client/working-with-prismaclient/logging}
 *
 * @param PrismaLoggingConfig
 *
 * @example
 *
 * handlePrismaLogging({
 *  db,
 *  logger,
 *  logLevels: ['info', 'warn', 'error'],
 * })
 *
 * @return {void}
 *
 */
export declare const handlePrismaLogging: (config: PrismaLoggingConfig) => void;
export {};
//# sourceMappingURL=index.d.ts.map